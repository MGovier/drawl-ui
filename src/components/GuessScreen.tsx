import React, { useState } from 'react'
import CanvasDraw from 'react-canvas-draw'

function GuessScreen() {
  const [disabled, setDisabled] = useState(false)
  const [buttonText, setButtonText] = useState(`Send Guess`)
  const [guess, setGuess] = useState('')

  function sendGuess() {
    setDisabled(true)
    setButtonText('Sending...')
    console.log('sending guess:' + guess)
  }

  return (
    <div id="content-window">
      <p style={{ textAlign: 'center' }}>What do you think this is?</p>
      <CanvasDraw
        lazyRadius={1}
        hideGrid={true}
        brushRadius={6}
        canvasWidth={320}
        canvasHeight={400}
        className="drawing-panel"
        disabled={true}
        saveData={data}
      />
      <div className="nes-field" style={{maxWidth: '320px', margin: '0 auto'}}>
        <label htmlFor="guess">Your Guess</label>
        <input type="text" id="guess" className="nes-input" value={guess} onChange={(evt) => {setGuess(evt.target.value)}}/>
      </div>
      <button
        type="button"
        className="nes-btn is-primary"
        disabled={disabled}
        onClick={() => {
          sendGuess()
        }}
        style={{ margin: '0 auto', marginTop:'1rem', display: 'block' }}
      >
        {buttonText}
      </button>
    </div>
  )
}

export default GuessScreen

const data = "{\"lines\":[{\"points\":[{\"x\":68.9629426799993,\"y\":74.81677894887738},{\"x\":68.9629426799993,\"y\":74.81677894887738},{\"x\":67.98347893804099,\"y\":74.94345981185099},{\"x\":66.99264717188998,\"y\":75.02865737791818},{\"x\":71.95697998761716,\"y\":66.90648728040611},{\"x\":86.52570951023229,\"y\":53.55146561298454},{\"x\":90.29427827742788,\"y\":51.24427344665895},{\"x\":97.18616786849496,\"y\":48.042619638845686},{\"x\":98.32682633241403,\"y\":47.29566563817401},{\"x\":98.32682633241403,\"y\":47.29566563817401},{\"x\":96.21126491087999,\"y\":67.21118646520695},{\"x\":79.75855007696921,\"y\":107.34942898658014},{\"x\":72.64301473693102,\"y\":128.30618279471773},{\"x\":71.27368159002846,\"y\":138.21881084207257},{\"x\":70.25316356281691,\"y\":146.21608459875145},{\"x\":70.12683710225824,\"y\":148.2040229129675},{\"x\":76.01581331568113,\"y\":148.9489925622811},{\"x\":108.27078109382224,\"y\":130.20488598416475},{\"x\":133.28409035259676,\"y\":115.22744723022593},{\"x\":157.2732172641196,\"y\":101.20906651128799},{\"x\":169.32795270071813,\"y\":93.29738376653563},{\"x\":179.2273053375764,\"y\":88.12603886619995},{\"x\":182.145328500224,\"y\":86.94845778751076},{\"x\":183.06538995902667,\"y\":86.70722864023824},{\"x\":180.61458784294237,\"y\":94.29676764432018},{\"x\":158.09903947728537,\"y\":128.52903548029377},{\"x\":124.12380512757956,\"y\":178.5455900952505},{\"x\":110.0156851662106,\"y\":202.47709717079147},{\"x\":92.88087669690307,\"y\":237.40443123102293},{\"x\":87.83521528611746,\"y\":248.3827420333126},{\"x\":86.71201456002065,\"y\":251.33103058516377},{\"x\":86.71201456002065,\"y\":251.33103058516377},{\"x\":90.42392161251169,\"y\":248.43124709199537},{\"x\":110.40175074865573,\"y\":233.402327739072},{\"x\":130.47067770533766,\"y\":216.48886207658134},{\"x\":143.36780596318417,\"y\":207.35582679133452},{\"x\":153.29652367041396,\"y\":201.24793224898363},{\"x\":156.16628005916874,\"y\":199.99841487050958},{\"x\":157.0749522655667,\"y\":199.74239091958887},{\"x\":153.50982447392985,\"y\":213.26606856131},{\"x\":143.9327633017822,\"y\":231.43082973657212},{\"x\":130.09682496457071,\"y\":252.52758103194193},{\"x\":124.03902591482272,\"y\":262.4910718040867},{\"x\":120.84146780672224,\"y\":269.3856287578657},{\"x\":119.8695167732773,\"y\":271.39890267503233},{\"x\":119.8695167732773,\"y\":271.39890267503233},{\"x\":126.31502416983966,\"y\":267.2774274340627},{\"x\":158.37291543834823,\"y\":244.3630084826796},{\"x\":202.38218513362474,\"y\":212.3758689898076},{\"x\":223.37322357707552,\"y\":197.36343945641224},{\"x\":244.4065598744601,\"y\":181.4086940014029},{\"x\":259.3426790559193,\"y\":171.31950009174446},{\"x\":264.1889654670986,\"y\":169.04861577942535},{\"x\":265.08534545142373,\"y\":168.7780090239086},{\"x\":266.02343736672145,\"y\":170.45462437389477},{\"x\":258.7869855155294,\"y\":187.36134151604534},{\"x\":244.13723189203006,\"y\":208.55479069255577},{\"x\":234.1121938265339,\"y\":223.53776203938608},{\"x\":228.99466768839184,\"y\":232.4648784538248},{\"x\":224.13168223783924,\"y\":239.55096835159532},{\"x\":223.00883019174984,\"y\":241.47307435466308},{\"x\":222.6939384017924,\"y\":242.3242439009255},{\"x\":222.6939384017924,\"y\":242.3242439009255},{\"x\":222.6939384017924,\"y\":242.3242439009255},{\"x\":224.74907301251503,\"y\":239.76050381204695},{\"x\":224.74907301251503,\"y\":239.76050381204695},{\"x\":225.35635849033798,\"y\":239.33948919820088},{\"x\":225.35635849033798,\"y\":239.33948919820088},{\"x\":225.6758433250214,\"y\":239.7011276743862},{\"x\":226.43529061744167,\"y\":242.2813767895733},{\"x\":226.2950220942411,\"y\":243.22187613193455},{\"x\":226.19716128328295,\"y\":244.2097388171511},{\"x\":226.1315833624537,\"y\":245.20433018780213},{\"x\":226.1315833624537,\"y\":245.20433018780213}],\"brushColor\":\"#444\",\"brushRadius\":6}],\"width\":320,\"height\":400}"